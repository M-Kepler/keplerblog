{% extends "base.html" %}
<!-- bootstrap支持的分页,只要将 sqlalchemy 的分页查询到底传入就可以啦 -->
{% from "bootstrap/pagination.html" import render_pagination %}

<!-- with context 导入解决了 macro 不知道什么是 current_user 的问题 -->
{% from "./includes/macros/_posts.html" import show_posts with context %}
{% from "./includes/macros/_sidebar.html" import show_sidebar with context %}
{% from "./includes/macros/_carousel.html" import carousel with context %}

{% block title %}
{{title}}
{% endblock %}

{% block page_content %}
{% for message in get_flashed_messages() %}
<div class="alert-info">{{ message }}</div>
{% endfor %}

{{ carousel() }}
{{ show_posts(posts, categorys, pagination, moment) }}
{{ show_sidebar(posts, categorys) }}

{% endblock %}